<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>AK's Daily Journal</title>
  <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', 'Times New Roman', serif;
            background: #f8f9fa;
            color: #2c3e50;
            line-height: 1.6;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px 0;
            border-bottom: 2px solid #e9ecef;
        }

        .profile-section {
            margin-bottom: 25px;
        }

        .profile-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: #34495e;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: bold;
            color: white;
            margin: 0 auto 20px;
        }

        .profile-info h1 {
            font-size: 2.2rem;
            margin-bottom: 10px;
            color: #2c3e50;
            font-weight: 400;
        }

        .subtitle {
            font-size: 1.1rem;
            color: #6c757d;
            margin-bottom: 20px;
            font-style: italic;
        }

        .description {
            max-width: 800px;
            margin: 0 auto;
            text-align: left;
            background: white;
            padding: 25px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.08);
            border: 1px solid #e9ecef;
        }

        .description p {
            margin-bottom: 15px;
            color: #495057;
        }

        .nav-tabs {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
            background: white;
            border-radius: 8px;
            padding: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.08);
            border: 1px solid #e9ecef;
        }

        .tab-btn {
            padding: 12px 24px;
            border: none;
            background: transparent;
            color: #6c757d;
            cursor: pointer;
            border-radius: 6px;
            transition: all 0.2s ease;
            font-weight: 500;
            font-size: 0.95rem;
            font-family: inherit;
        }

        .tab-btn:hover {
            background: #f8f9fa;
            color: #495057;
        }

        .tab-btn.active {
            background: #34495e;
            color: white;
        }

        .tab-content {
            display: none;
            background: white;
            border-radius: 8px;
            padding: 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.08);
            border: 1px solid #e9ecef;
        }

        .tab-content.active {
            display: block;
        }

        .calendar-container {
            display: grid;
            grid-template-columns: 1fr 350px;
            gap: 30px;
            align-items: start;
        }

        .calendar-section {
            background: white;
            border-radius: 8px;
            padding: 25px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.08);
            border: 1px solid #e9ecef;
        }

        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .month-nav {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .nav-btn {
            background: #34495e;
            color: white;
            border: none;
            padding: 10px 16px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 0.9rem;
            font-weight: 500;
        }

        .nav-btn:hover {
            background: #2c3e50;
        }

        .month-year {
            font-size: 1.4rem;
            font-weight: 600;
            color: #2c3e50;
            min-width: 180px;
            text-align: center;
        }

        .year-selector {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .year-input {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 4px;
            padding: 6px 10px;
            font-size: 0.9rem;
            width: 70px;
            text-align: center;
            font-weight: 500;
        }

        .year-input:focus {
            outline: none;
            border-color: #34495e;
            box-shadow: 0 0 0 2px rgba(52, 73, 94, 0.1);
        }

        .date-jump {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .date-input {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 4px;
            padding: 6px 10px;
            font-size: 0.85rem;
        }

        .date-input:focus {
            outline: none;
            border-color: #34495e;
            box-shadow: 0 0 0 2px rgba(52, 73, 94, 0.1);
        }

        .jump-btn {
            background: #28a745;
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.85rem;
            font-weight: 500;
            transition: background 0.2s ease;
        }

        .jump-btn:hover {
            background: #218838;
        }

        .calendar {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 1px;
            background: #dee2e6;
            border-radius: 8px;
            overflow: hidden;
        }

        .day-header {
            text-align: center;
            padding: 12px 8px;
            font-weight: 600;
            font-size: 0.85rem;
            color: #495057;
            background: #f8f9fa;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .day {
            aspect-ratio: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease;
            position: relative;
            background: white;
            font-size: 0.9rem;
            font-weight: 500;
            min-height: 45px;
        }

        .day:hover {
            background: #e9ecef;
        }

        .day.other-month {
            color: #adb5bd;
            background: #f8f9fa;
        }

        .day.other-month:hover {
            background: #e9ecef;
        }

        .day.has-entry {
            background: #d4edda;
            color: #155724;
            font-weight: 600;
        }

        .day.has-entry:hover {
            background: #c3e6cb;
        }

        .day.today {
            border: 2px solid #dc3545;
            font-weight: 700;
        }

        .day.selected {
            background: #34495e !important;
            color: white !important;
            font-weight: 700;
        }

        .entry-count {
            position: absolute;
            top: 2px;
            right: 2px;
            background: #dc3545;
            color: white;
            border-radius: 50%;
            width: 16px;
            height: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            font-weight: 700;
        }

        .activity-panel {
            background: white;
            border-radius: 8px;
            padding: 25px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.08);
            position: sticky;
            top: 20px;
            border: 1px solid #e9ecef;
        }

        .activity-header {
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #e9ecef;
        }

        .activity-date {
            font-size: 1.1rem;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 5px;
        }

        .activity-day {
            font-size: 0.9rem;
            color: #6c757d;
            background: #f8f9fa;
            padding: 4px 8px;
            border-radius: 4px;
            display: inline-block;
            font-weight: 500;
        }

        .activity-content {
            max-height: 400px;
            overflow-y: auto;
        }

        .activity-content::-webkit-scrollbar {
            width: 6px;
        }

        .activity-content::-webkit-scrollbar-track {
            background: #f8f9fa;
        }

        .activity-content::-webkit-scrollbar-thumb {
            background: #dee2e6;
            border-radius: 3px;
        }

        .learning-item {
            margin-bottom: 12px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 6px;
            border-left: 4px solid #34495e;
            font-size: 0.95rem;
            line-height: 1.5;
            transition: all 0.2s ease;
        }

        .learning-item:hover {
            background: #e9ecef;
        }

        .learning-item:last-child {
            margin-bottom: 0;
        }

        .no-activity {
            text-align: center;
            color: #6c757d;
            font-style: italic;
            padding: 40px 20px;
            background: #f8f9fa;
            border-radius: 6px;
            border: 1px dashed #dee2e6;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            padding: 25px;
            border-radius: 8px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.08);
            border: 1px solid #e9ecef;
            transition: transform 0.2s ease;
        }

        .stat-card:hover {
            transform: translateY(-2px);
        }

        .stat-number {
            font-size: 2.2rem;
            font-weight: 700;
            margin-bottom: 8px;
            color: #34495e;
        }

        .stat-label {
            font-size: 0.95rem;
            color: #6c757d;
            font-weight: 500;
        }

        .contributions {
            margin-top: 30px;
        }

        .contributions h3 {
            margin-bottom: 20px;
            color: #2c3e50;
            font-size: 1.2rem;
            font-weight: 600;
        }

        .contribution-graph {
            display: grid;
            grid-template-columns: repeat(53, 1fr);
            gap: 2px;
            margin-bottom: 15px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
            border: 1px solid #e9ecef;
        }

        .contribution-day {
            width: 10px;
            height: 10px;
            border-radius: 2px;
            background: #e9ecef;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .contribution-day:hover {
            transform: scale(1.2);
        }

        .contribution-day.level-1 { background: #c3e6cb; }
        .contribution-day.level-2 { background: #a3d3a8; }
        .contribution-day.level-3 { background: #76c893; }
        .contribution-day.level-4 { background: #52b788; }

        .contribution-legend {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
            font-size: 0.85rem;
            color: #6c757d;
            font-weight: 500;
        }

        .legend-item {
            width: 10px;
            height: 10px;
            border-radius: 2px;
        }

        @media (max-width: 1024px) {
            .calendar-container {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .activity-panel {
                position: static;
            }
        }

        @media (max-width: 768px) {
            .profile-info h1 {
                font-size: 1.8rem;
            }
            
            .calendar-header {
                flex-direction: column;
                gap: 15px;
            }
            
            .month-nav {
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .nav-tabs {
                flex-wrap: wrap;
                gap: 5px;
            }
            
            .tab-btn {
                padding: 10px 16px;
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="profile-section">
        <div class="profile-avatar">AK</div>
        <div class="profile-info">
          <h1>Academic Learning Journal</h1>
          <p class="subtitle">A Systematic Approach to Personal Development & Knowledge Acquisition</p>
        </div>
      </div>
      <div class="description" style="text-align: justify;">
        <p><strong>Welcome to my personal growth sanctuary!</strong></p>
        <br>
        <p>I maintain a structured weekly tracker to monitor various aspects of my life, including daily activities, fitness, and technical learnings. This tracker helps me stay disciplined and consistent by logging key metrics such as time spent on studies, work, walking time, and other parameters. Additionally, I track my learning progress in AI/ML, networking, and Linux Kernel, ensuring steady improvement in my technical expertise.</p>
        <br>
        <p>By regularly reviewing my data, I analyze trends, optimize my routines, and make data-driven decisions to enhance productivity, health, and personal growth. I'm a dedicated individual tracking my personal and professional growth through this comprehensive journal. With a passion for continuous improvement, I document my experiences, learnings, and reflections to build a comprehensive record of my journey.</p>
        <br>
        <p>Along with tracking progress, I also capture pictures and videos of time spent with family and friends, preserving valuable memories while maintaining a balanced and fulfilling lifestyle. This journal is more than just data - it's a testament to growth, learning, and the beautiful moments that make life meaningful.</p>
      </div>
    </header>

    <div class="nav-tabs">
      <button class="tab-btn active" onclick="showTab(this, 'calendar')">📅 Calendar</button>
      <button class="tab-btn" onclick="showTab(this, 'stats')">📊 Statistics</button>
      <button class="tab-btn" onclick="showTab(this, 'today')">📝 Today</button>
    </div>

    <div id="calendar-tab" class="tab-content active">
      <div class="calendar-container">
        <div class="calendar-section">
          <div class="calendar-header">
            <div class="month-nav">
              <button class="nav-btn" onclick="previousMonth()">← Previous</button>
              <div class="month-year" id="monthYear"></div>
              <button class="nav-btn" onclick="nextMonth()">Next →</button>
            </div>
            <div class="year-selector">
              <label for="yearInput">Year:</label>
              <input type="number" id="yearInput" class="year-input" min="2020" max="2030" onchange="changeYear()">
            </div>
            <div class="date-jump">
              <label for="dateInput">Jump to:</label>
              <input type="date" id="dateInput" class="date-input">
              <button class="jump-btn" onclick="jumpToDate()">Go</button>
            </div>
          </div>
          <div class="calendar" id="calendar"></div>
        </div>
        <div class="activity-panel">
          <div id="activityContent">
            <div class="no-activity">
              Select a date to view learning activities and progress entries
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="stats-tab" class="tab-content">
      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-number" id="totalEntries">0</div>
          <div class="stat-label">Total Learning Days</div>
        </div>
        <div class="stat-card">
          <div class="stat-number" id="currentStreak">0</div>
          <div class="stat-label">Current Streak</div>
        </div>
        <div class="stat-card">
          <div class="stat-number" id="longestStreak">0</div>
          <div class="stat-label">Longest Streak</div>
        </div>
        <div class="stat-card">
          <div class="stat-number" id="thisMonth">0</div>
          <div class="stat-label">This Month</div>
        </div>
      </div>

      <div class="contributions">
        <h3>Learning Activity Heatmap (Past 12 Months)</h3>
        <div class="contribution-graph" id="contributionGraph"></div>
        <div class="contribution-legend">
          <span>Less</span>
          <div class="legend-item" style="background: #e9ecef;"></div>
          <div class="legend-item level-1"></div>
          <div class="legend-item level-2"></div>
          <div class="legend-item level-3"></div>
          <div class="legend-item level-4"></div>
          <span>More</span>
        </div>
      </div>
    </div>

    <div id="today-tab" class="tab-content">
      <div id="todayContent">
        <div class="no-activity">No entries recorded for today. Begin documenting your learning activities.</div>
      </div>
    </div>
  </div>

  <script>

    let currentDate = new Date();

    function formatDateYMD(dateObj) {
      return `${dateObj.getFullYear()}-${String(dateObj.getMonth() + 1).padStart(2, '0')}-${String(dateObj.getDate()).padStart(2, '0')}`;
    }

    function showTab(btn, tabName) {
      document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
      document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
      btn.classList.add('active');
      document.getElementById(tabName + '-tab').classList.add('active');
    }

    function updateCalendar() {
      const calendar = document.getElementById('calendar');
      const monthYear = document.getElementById('monthYear');
      const yearInput = document.getElementById('yearInput');
      const year = currentDate.getFullYear();
      const month = currentDate.getMonth();
      monthYear.textContent = new Date(year, month).toLocaleString('default', { month: 'long', year: 'numeric' });
      yearInput.value = year;

      const firstDay = new Date(year, month, 1);
      const startDate = new Date(firstDay);
      startDate.setDate(startDate.getDate() - firstDay.getDay());

      calendar.innerHTML = '';

      ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'].forEach(d => {
        const el = document.createElement('div');
        el.className = 'day-header';
        el.textContent = d;
        calendar.appendChild(el);
      });

      for (let i = 0; i < 42; i++) {
        const dayDate = new Date(startDate);
        dayDate.setDate(startDate.getDate() + i);
        const dateStr = formatDateYMD(dayDate);

        const dayEl = document.createElement('div');
        dayEl.className = 'day';
        dayEl.textContent = dayDate.getDate();

        if (dayDate.getMonth() !== month) dayEl.classList.add('other-month');
        if (formatDateYMD(new Date()) === dateStr) dayEl.classList.add('today');

        const entry = journalData.entries.find(e => e.date === dateStr);
        if (entry) {
          dayEl.classList.add('has-entry');
          const count = document.createElement('div');
          count.className = 'entry-count';
          count.textContent = entry.learnings.length;
          dayEl.appendChild(count);
        }

        dayEl.addEventListener('click', () => selectDate(dayDate, entry));
        calendar.appendChild(dayEl);
      }
    }

    function selectDate(date, entry) {
      document.querySelectorAll('.day.selected').forEach(d => d.classList.remove('selected'));
      const dateStr = formatDateYMD(date);
      document.querySelectorAll('.day').forEach(d => {
        if (d.textContent == date.getDate() && !d.classList.contains('other-month')) {
          d.classList.add('selected');
        }
      });

      const activityContent = document.getElementById('activityContent');
      const dateDisplay = date.toLocaleDateString('en-US', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' });

      if (entry) {
        activityContent.innerHTML = `
          <div class="activity-header">
            <div class="activity-date">${dateDisplay}</div>
            <div class="activity-day">${entry.learnings.length} learning${entry.learnings.length !== 1 ? 's' : ''} documented</div>
          </div>
          <div class="activity-content">
            ${entry.learnings.map((l, i) => `<div class="learning-item">${i + 1}. ${l}</div>`).join('')}
          </div>
        `;
      } else {
        activityContent.innerHTML = `
          <div class="activity-header">
            <div class="activity-date">${dateDisplay}</div>
            <div class="activity-day">No documented entries</div>
          </div>
          <div class="no-activity">
            No learning activities documented for this date.
          </div>
        `;
      }
    }

    function previousMonth() {
      currentDate.setMonth(currentDate.getMonth() - 1);
      updateCalendar();
    }

    function nextMonth() {
      currentDate.setMonth(currentDate.getMonth() + 1);
      updateCalendar();
    }

    function changeYear() {
      const y = parseInt(document.getElementById('yearInput').value);
      if (y >= 2020 && y <= 2030) {
        currentDate.setFullYear(y);
        updateCalendar();
      }
    }

    // function jumpToDate() {
    //   const val = document.getElementById('dateInput').value;
    //   if (val) {
    //     const parts = val.split('-').map(Number);
    //     const d = new Date(parts[0], parts[1] - 1, parts[2]);
    //     currentDate = new Date(d.getFullYear(), d.getMonth(), 1);
    //     updateCalendar();
    //     setTimeout(() => {
    //       const entry = journalData.entries.find(e => e.date === val);
    //       const dayEls = document.querySelectorAll('.day');
    //       dayEls.forEach(el => {
    //         if (el.textContent == d.getDate() && !el.classList.contains('other-month')) {
    //           el.click();
    //         }
    //       });
    //     }, 100);
    //   }
    // }

    function jumpToDate() {
      const val = document.getElementById('dateInput').value;
      if (val) {
        const parts = val.split('-').map(Number);
        const d = new Date(parts[0], parts[1] - 1, parts[2]);
        currentDate = new Date(d.getFullYear(), d.getMonth(), 1);
        updateCalendar();
    
        // After calendar updates, select the date
        const dayEls = document.querySelectorAll('.day');
        dayEls.forEach(el => {
          if (parseInt(el.textContent) === d.getDate() && !el.classList.contains('other-month')) {
            el.click();
          }
        });
      }
    }


    function updateStats() {
      document.getElementById('totalEntries').textContent = journalData.entries.length;
      // ... streak and month count logic (apply formatDateYMD where needed)
      updateContributionGraph();
    }

    function updateContributionGraph() {
      const graph = document.getElementById('contributionGraph');
      graph.innerHTML = '';
      const today = new Date();
      const start = new Date(today);
      start.setDate(start.getDate() - 364);
      for (let i = 0; i < 365; i++) {
        const d = new Date(start);
        d.setDate(start.getDate() + i);
        const ds = formatDateYMD(d);
        const e = journalData.entries.find(x => x.date === ds);
        const el = document.createElement('div');
        el.className = 'contribution-day';
        if (e) {
          const level = Math.min(e.learnings.length, 4);
          el.classList.add(`level-${level}`);
          el.title = `${ds}: ${e.learnings.length} activities`;
        } else {
          el.title = `${ds}: No entries`;
        }
        graph.appendChild(el);
      }
    }

    function updateToday() {
      const todayStr = formatDateYMD(new Date());
      const entry = journalData.entries.find(e => e.date === todayStr);
      const todayContent = document.getElementById('todayContent');
      const display = new Date().toLocaleDateString('en-US', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' });
      if (entry) {
        todayContent.innerHTML = `
          <div class="activity-header">
            <div class="activity-date">Today - ${display}</div>
            <div class="activity-day">${entry.learnings.length} learning${entry.learnings.length !== 1 ? 's' : ''} documented</div>
          </div>
          <div class="activity-content">
            ${entry.learnings.map((l, i) => `<div class="learning-item">${i + 1}. ${l}</div>`).join('')}
          </div>
        `;
      } else {
        todayContent.innerHTML = `
          <div class="activity-header">
            <div class="activity-date">Today - ${display}</div>
            <div class="activity-day">No entries yet</div>
          </div>
          <div class="no-activity">
            No learning activities documented for today.
          </div>
        `;
      }
    }

    let journalData = {};

    async function loadData() {
      try {
        const response = await fetch('journal-data.json');
        if (!response.ok) throw new Error('Failed to load JSON');
        journalData = await response.json();
        console.log('Loaded journal data:', journalData);
    
        updateCalendar();
        updateStats();
        updateToday();
      } catch (e) {
        console.error('Error loading journal data:', e);
      }
    }


    document.addEventListener('DOMContentLoaded', () => {
        loadData()
        const dateInput = document.getElementById('dateInput');
        dateInput.value = formatDateYMD(new Date());
    });
  </script>
</body>
</html>
